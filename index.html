<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ethernAI</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      background: #f4f4f4;
    }
    header {
      background: #222; color: white;
      padding: 10px; text-align: center;
    }
    nav {
      display: flex;
      justify-content: space-around;
      flex-wrap: wrap;
      background: #333;
    }
    nav button {
      flex: 1;
      padding: 12px;
      border: none;
      background: #333;
      color: white;
      font-size: 16px;
    }
    nav button:hover { background: #444; }
    section { display: none; padding: 20px; }
    canvas {
      border: 2px solid #333;
      display: block;
      margin: 10px auto;
      background: linear-gradient(#cceeff, #ffffff);
    }
    .form-input {
      margin: 10px 0;
      display: block;
    }
    .card {
      border: 1px solid #ccc; border-radius: 10px;
      padding: 15px; margin: 10px;
      text-align: center;
      background: white; cursor: pointer;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
    }
    #dashboard { max-width: 600px; margin: auto; }
    canvas.chart { width: 100% !important; height: 300px !important; }
  </style>
</head>
<body>
  <header><h1>ethernAI</h1></header>
  <nav>
    <button onclick="showSection('jugar')">Jugar</button>
    <button onclick="showSection('datos')">Datos</button>
    <button onclick="showSection('catalogo')">Catálogo</button>
  </nav>

  <section id="jugar">
    <h2>Juego Interactivo</h2>
    <div id="registro">
      <label>Nombre:</label><input id="nombre" class="form-input">
      <label>Teléfono:</label><input id="telefono" class="form-input">
      <label>Edad:</label><input id="edad" type="number" class="form-input">
      <button onclick="iniciarJuego()">Iniciar Juego</button>
    </div>
    <canvas id="gameCanvas" width="400" height="400" style="display:none;"></canvas>
    <p id="score"></p>
  </section>

  <section id="datos">
    <h2>Dashboard de Datos</h2>
    <div id="dashboard">
      <canvas id="chartTiempo" class="chart"></canvas>
      <canvas id="chartEdad" class="chart"></canvas>
      <canvas id="chartDuracion" class="chart"></canvas>
    </div>
  </section>

  <section id="catalogo">
    <h2>Catálogo</h2>
    <div class="card" onclick="alert('Tel: 8123836266\nEmail: thisis.ethernai@gmail.com')">
      Producto A
    </div>
    <div class="card" onclick="alert('Tel: 8123836266\nEmail: thisis.ethernai@gmail.com')">
      Producto B
    </div>
  </section>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  function showSection(id){
    document.querySelectorAll('section').forEach(s=>s.style.display='none');
    document.getElementById(id).style.display='block';
  }
  showSection('jugar');

  // Juego
  const canvas = document.getElementById("gameCanvas");
  const ctx = canvas.getContext("2d");
  let player, objects, score, startTime, jugador;

  function iniciarJuego(){
    jugador = {
      nombre: document.getElementById('nombre').value,
      telefono: document.getElementById('telefono').value,
      edad: parseInt(document.getElementById('edad').value)
    };
    document.getElementById('registro').style.display = "none";
    canvas.style.display = "block";
    resetGame();
    requestAnimationFrame(update);
  }

  function resetGame(){
    player = {x:200, y:200, size:20};
    objects = [];
    score = 0;
    startTime = Date.now();
  }

  function crearObjeto(){
    let tipo = Math.random()>0.5 ? 'gota':'llama';
    objects.push({
      x: Math.random()*380, y: Math.random()*380,
      tipo: tipo, size: 15, creado: Date.now()
    });
  }

  setInterval(crearObjeto, 1500);

  function update(){
    ctx.clearRect(0,0,400,400);
    // dibujar jugador
    ctx.fillStyle="blue";
    ctx.beginPath();
    ctx.arc(player.x, player.y, player.size,0,Math.PI*2);
    ctx.fill();

    // objetos
    objects = objects.filter(o=>Date.now()-o.creado<4000);
    for(let o of objects){
      if(o.tipo==='gota'){
        ctx.fillStyle="aqua";
        ctx.beginPath();
        ctx.moveTo(o.x, o.y);
        ctx.arc(o.x, o.y, o.size, Math.PI, 0);
        ctx.lineTo(o.x, o.y-o.size*1.5);
        ctx.closePath(); ctx.fill();
      } else {
        ctx.fillStyle="orange";
        ctx.beginPath();
        ctx.moveTo(o.x,o.y);
        ctx.bezierCurveTo(o.x-10,o.y-20,o.x+10,o.y-20,o.x,o.y);
        ctx.fill();
      }
      // colisión
      let dx=player.x-o.x, dy=player.y-o.y;
      if(Math.sqrt(dx*dx+dy*dy)<player.size+o.size){
        score += o.tipo==='gota'?10:-5;
        o.creado=0;
      }
    }
    document.getElementById('score').innerText = "Puntaje: "+score;
    requestAnimationFrame(update);
  }

  // Teclado
  document.addEventListener("keydown", e=>{
    if(e.key==="ArrowUp"||e.key==="w") player.y-=10;
    if(e.key==="ArrowDown"||e.key==="s") player.y+=10;
    if(e.key==="ArrowLeft"||e.key==="a") player.x-=10;
    if(e.key==="ArrowRight"||e.key==="d") player.x+=10;
  });

  // Giroscopio en móvil
  window.addEventListener("deviceorientation", e=>{
    let gamma = e.gamma; // izquierda-derecha
    let beta = e.beta;   // adelante-atrás
    if(gamma>5) player.x+=3;
    if(gamma<-5) player.x-=3;
    if(beta>5) player.y+=3;
    if(beta<-5) player.y-=3;
  });

  // Dashboard con datos ficticios
  new Chart(document.getElementById("chartTiempo"),{
    type:'line',
    data:{labels:["5pts","10pts","15pts"], datasets:[{label:"Tiempo promedio (s)", data:[10,20,35]}]}
  });
  new Chart(document.getElementById("chartEdad"),{
    type:'bar',
    data:{labels:["10","20","30"], datasets:[{label:"Puntaje Promedio", data:[50,70,40]}]}
  });
  new Chart(document.getElementById("chartDuracion"),{
    type:'pie',
    data:{labels:["<1min","1-2min",">2min"], datasets:[{data:[5,8,2]}]}
  });
</script>
</body>
</html>
