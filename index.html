<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Menú Gourmet | Restaurante Exquisito</title>
    <style>
        /* Variables y reset */
        :root {
            --primary-color: #2c3e50;
            --accent-color: #c44d34;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --text-color: #333;
            --background-color: #f9f9f9;
            --card-shadow: 0 10px 20px rgba(0,0,0,0.1);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
            height: 100vh;
            position: relative;
        }

        /* Contenedor principal */
        .app-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        /* Vista de categorías (pantalla principal) */
        .categories-view {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            transition: var(--transition);
            z-index: 10;
        }

        .categories-title {
            font-size: 2rem;
            margin-bottom: 2rem;
            color: var(--primary-color);
            text-align: center;
        }

        .categories-carousel {
            position: relative;
            width: 100%;
            height: 70%;
            perspective: 1000px;
        }

        .category-card {
            position: absolute;
            width: 80%;
            height: 100%;
            left: 10%;
            background-size: cover;
            background-position: center;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            transform-style: preserve-3d;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 60%);
            z-index: 1;
        }

        .category-content {
            position: relative;
            z-index: 2;
            padding: 20px;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        .category-name {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .category-desc {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .category-card.active {
            transform: translateZ(0) scale(1);
            opacity: 1;
            z-index: 3;
        }

        .category-card.inactive {
            transform: translateZ(-200px) scale(0.8);
            opacity: 0.5;
            filter: blur(2px);
            z-index: 2;
        }

        .category-card.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* Vista de lista de platos */
        .dishes-view {
            position: absolute;
            width: 100%;
            height: 100%;
            background: white;
            padding: 20px;
            overflow-y: auto;
            transition: var(--transition);
            transform: translateY(100%);
            opacity: 0;
            z-index: 20;
        }

        .dishes-view.active {
            transform: translateY(0);
            opacity: 1;
        }

        .dishes-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .back-button {
            background: none;
            border: none;
            font-size: 1.5rem;
            margin-right: 15px;
            color: var(--primary-color);
            cursor: pointer;
        }

        .dishes-title {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .dishes-list {
            list-style: none;
        }

        .dish-item {
            padding: 15px;
            margin-bottom: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: var(--transition);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.5s forwards;
        }

        .dish-item:nth-child(1) { animation-delay: 0.1s; }
        .dish-item:nth-child(2) { animation-delay: 0.2s; }
        .dish-item:nth-child(3) { animation-delay: 0.3s; }
        .dish-item:nth-child(4) { animation-delay: 0.4s; }
        .dish-item:nth-child(5) { animation-delay: 0.5s; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .dish-item:hover, .dish-item:active {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .dish-name {
            font-size: 1.2rem;
            margin-bottom: 5px;
            color: var(--primary-color);
        }

        .dish-desc {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 10px;
        }

        .dish-price {
            font-weight: bold;
            color: var(--accent-color);
        }

        /* Vista de detalle del plato */
        .detail-view {
            position: absolute;
            width: 100%;
            height: 100%;
            background: white;
            overflow-y: auto;
            transition: var(--transition);
            transform: scale(0.8);
            opacity: 0;
            z-index: 30;
        }

        .detail-view.active {
            transform: scale(1);
            opacity: 1;
        }

        .detail-image {
            width: 100%;
            height: 40vh;
            object-fit: cover;
        }

        .detail-content {
            padding: 20px;
        }

        .detail-header {
            margin-bottom: 20px;
        }

        .detail-name {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .detail-price {
            font-size: 1.2rem;
            color: var(--accent-color);
            margin-bottom: 15px;
        }

        .detail-section {
            margin-bottom: 20px;
        }

        .detail-section h3 {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }

        .detail-ingredients {
            list-style: none;
        }

        .detail-ingredients li {
            padding: 5px 0;
            border-bottom: 1px dotted #eee;
        }

        .detail-nutrition {
            display: flex;
            justify-content: space-between;
            background: #f9f9f9;
            padding: 10px 15px;
            border-radius: 8px;
        }

        /* Indicadores de navegación */
        .carousel-indicators {
            position: absolute;
            bottom: 20px;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            z-index: 5;
        }

        .indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            margin: 0 5px;
            transition: var(--transition);
        }

        .indicator.active {
            background: white;
            transform: scale(1.2);
        }

        /* Estados de visibilidad */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Vista de categorías (pantalla principal) -->
        <div class="categories-view" id="categoriesView">
            <h1 class="categories-title">Nuestro Menú</h1>
            <div class="categories-carousel" id="categoriesCarousel">
                <!-- Las categorías se insertarán dinámicamente con JavaScript -->
            </div>
            <div class="carousel-indicators" id="carouselIndicators">
                <!-- Los indicadores se insertarán dinámicamente -->
            </div>
        </div>

        <!-- Vista de lista de platos -->
        <div class="dishes-view" id="dishesView">
            <div class="dishes-header">
                <button class="back-button" id="backFromDishes">←</button>
                <h2 class="dishes-title" id="dishesCategoryTitle">Platos</h2>
            </div>
            <ul class="dishes-list" id="dishesList">
                <!-- Los platos se insertarán dinámicamente -->
            </ul>
        </div>

        <!-- Vista de detalle del plato -->
        <div class="detail-view" id="detailView">
            <img src="" alt="Plato" class="detail-image" id="detailImage">
            <div class="detail-content">
                <div class="detail-header">
                    <h2 class="detail-name" id="detailName">Nombre del plato</h2>
                    <div class="detail-price" id="detailPrice">$0.00</div>
                    <button class="back-button" id="backFromDetail">← Volver</button>
                </div>
                <div class="detail-section">
                    <h3>Descripción</h3>
                    <p id="detailDescription">Descripción del plato.</p>
                </div>
                <div class="detail-section">
                    <h3>Ingredientes</h3>
                    <ul class="detail-ingredients" id="detailIngredients">
                        <!-- Ingredientes se insertarán dinámicamente -->
                    </ul>
                </div>
                <div class="detail-section">
                    <h3>Información Nutricional</h3>
                    <div class="detail-nutrition" id="detailNutrition">
                        <!-- Información nutricional se insertará dinámicamente -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Datos del menú (simulando una base de datos)
        const menuData = {
            categories: [
                {
                    id: 'starters',
                    name: 'Entradas',
                    description: 'Aperitivos para comenzar la experiencia',
                    image: 'https://images.unsplash.com/photo-1605522867157-380f6e1eeda8?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                    dishes: [
                        {
                            id: 'bruschetta',
                            name: 'Bruschetta Italiana',
                            description: 'Pan tostado con tomate fresco, albahaca y aceite de oliva virgen extra',
                            price: '$8.99',
                            image: 'https://images.unsplash.com/photo-1572695157363-776a8028ce4b?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Pan rústico', 'Tomate cherry', 'Albahaca fresca', 'Ajo', 'Aceite de oliva virgen extra', 'Sal marina'],
                            nutrition: '250 calorías'
                        },
                        {
                            id: 'ceviche',
                            name: 'Ceviche de Pescado',
                            description: 'Pescado blanco marinado en limón con cebolla morada, cilantro y ají limo',
                            price: '$12.99',
                            image: 'https://images.unsplash.com/photo-1519708227418-c8fd9a32b7a2?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Pescado blanco fresco', 'Limón verde', 'Cebolla morada', 'Cilantro', 'Ají limo', 'Camote', 'Maíz tostado'],
                            nutrition: '320 calorías'
                        },
                        {
                            id: 'tartar',
                            name: 'Tartar de Atún',
                            description: 'Atún de aleta amarilla finamente picado con aguacate y salsa de soja',
                            price: '$14.99',
                            image: 'https://images.unsplash.com/photo-1553621042-f6e147245754?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Atún de aleta amarilla', 'Aguacate Hass', 'Chalotas', 'Alcaparras', 'Salsa de soja', 'Sésamo', 'Aceite de sésamo'],
                            nutrition: '290 calorías'
                        }
                    ]
                },
                {
                    id: 'mains',
                    name: 'Platos Principales',
                    description: 'Nuestras especialidades culinarias',
                    image: 'https://images.unsplash.com/photo-1600891964092-4316c288032e?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                    dishes: [
                        {
                            id: 'risotto',
                            name: 'Risotto de Hongos',
                            description: 'Arroz arbóreo cremoso con hongos porcini y parmesano reggiano',
                            price: '$18.99',
                            image: 'https://images.unsplash.com/photo-1476124369491-e7addf5db371?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Arroz arbóreo', 'Hongos porcini', 'Caldo de vegetales', 'Vino blanco', 'Cebolla', 'Queso parmesano', 'Mantequilla'],
                            nutrition: '480 calorías'
                        },
                        {
                            id: 'salmon',
                            name: 'Salmón a la Parrilla',
                            description: 'Salmón salvaje con costra de hierbas, puré de batata y espárragos',
                            price: '$22.99',
                            image: 'https://images.unsplash.com/photo-1467003909585-2f8a72700288?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Salmón salvaje', 'Eneldo', 'Perejil', 'Ajo', 'Batata', 'Espárragos trigueros', 'Aceite de oliva'],
                            nutrition: '520 calorías'
                        },
                        {
                            id: 'pasta',
                            name: 'Pasta Casera Trufada',
                            description: 'Tagliatelle fresco con salsa de trufa negra y champiñones silvestres',
                            price: '$19.99',
                            image: 'https://images.unsplash.com/photo-1621996346565-e3dbc353d2e5?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Harina de trigo', 'Huevos', 'Trufa negra', 'Champiñones silvestres', 'Crema de leche', 'Mantequilla', 'Queso parmesano'],
                            nutrition: '560 calorías'
                        }
                    ]
                },
                {
                    id: 'desserts',
                    name: 'Postres',
                    description: 'Dulces finales para terminar con broche de oro',
                    image: 'https://images.unsplash.com/photo-1563729784474-d77dbb933a9e?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                    dishes: [
                        {
                            id: 'souffle',
                            name: 'Soufflé de Chocolate',
                            description: 'Soufflé aireado de chocolate amargo con centro fundido y helado de vainilla',
                            price: '$9.99',
                            image: 'https://images.unsplash.com/photo-1578985545062-69928b1d9587?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Chocolate amargo 70%', 'Huevos', 'Azúcar', 'Mantequilla', 'Harina', 'Helado de vainilla'],
                            nutrition: '380 calorías'
                        },
                        {
                            id: 'creme',
                            name: 'Crème Brûlée',
                            description: 'Clásica crema catalana con crujiente capa de caramelo y frutos rojos',
                            price: '$8.99',
                            image: 'https://images.unsplash.com/photo-1535254979300-9736941845ef?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Yemas de huevo', 'Crema de leche', 'Vaina de vainilla', 'Azúcar', 'Frutos rojos', 'Azúcar mascabo'],
                            nutrition: '320 calorías'
                        },
                        {
                            id: 'tiramisu',
                            name: 'Tiramisú Clásico',
                            description: 'Capas de bizcocho de soletilla empapado en café y crema de mascarpone',
                            price: '$10.99',
                            image: 'https://images.unsplash.com/photo-1571877227200-a0d98ea607e9?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Queso mascarpone', 'Huevos', 'Bizcochos de soletilla', 'Café espresso', 'Cacao en polvo', 'Vino Marsala'],
                            nutrition: '420 calorías'
                        }
                    ]
                },
                {
                    id: 'drinks',
                    name: 'Bebidas',
                    description: 'Refrescantes acompañamientos para su comida',
                    image: 'https://images.unsplash.com/photo-1470337458703-46ad1756a187?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                    dishes: [
                        {
                            id: 'mojito',
                            name: 'Mojito Clásico',
                            description: 'Ron blanco, hierbabuena, lima, azúcar y soda',
                            price: '$8.99',
                            image: 'https://images.unsplash.com/photo-1551538827-9c037cb4f32a?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Ron blanco', 'Hierbabuena fresca', 'Lima', 'Azúcar moreno', 'Soda', 'Hielo'],
                            nutrition: '180 calorías'
                        },
                        {
                            id: 'sangria',
                            name: 'Sangría Española',
                            description: 'Vino tinto macerado con frutas de temporada y un toque de brandy',
                            price: '$12.99',
                            image: 'https://images.unsplash.com/photo-1470337458703-46ad1756a187?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Vino tinto', 'Naranja', 'Limón', 'Manzana', 'Melocotón', 'Brandy', 'Canela'],
                            nutrition: '200 calorías'
                        },
                        {
                            id: 'limonada',
                            name: 'Limonada de Lavanda',
                            description: 'Limonada casera con infusión de lavanda y miel de flores',
                            price: '$6.99',
                            image: 'https://images.unsplash.com/photo-1536935338788-846bb9981813?ixlib=rb-1.2.1&auto=format&fit=crop&w=600&q=80',
                            ingredients: ['Limones frescos', 'Lavanda', 'Miel', 'Agua con gas', 'Hielo'],
                            nutrition: '120 calorías'
                        }
                    ]
                }
            ]
        };

        // Variables globales
        let currentCategoryIndex = 0;
        let currentDishes = [];
        let startX = 0;
        let endX = 0;

        // Elementos del DOM
        const categoriesView = document.getElementById('categoriesView');
        const categoriesCarousel = document.getElementById('categoriesCarousel');
        const carouselIndicators = document.getElementById('carouselIndicators');
        const dishesView = document.getElementById('dishesView');
        const dishesCategoryTitle = document.getElementById('dishesCategoryTitle');
        const dishesList = document.getElementById('dishesList');
        const detailView = document.getElementById('detailView');
        const detailImage = document.getElementById('detailImage');
        const detailName = document.getElementById('detailName');
        const detailPrice = document.getElementById('detailPrice');
        const detailDescription = document.getElementById('detailDescription');
        const detailIngredients = document.getElementById('detailIngredients');
        const detailNutrition = document.getElementById('detailNutrition');
        const backFromDishes = document.getElementById('backFromDishes');
        const backFromDetail = document.getElementById('backFromDetail');

        // Inicializar la aplicación
        function initApp() {
            renderCategories();
            setupEventListeners();
        }

        // Renderizar las categorías en el carrusel
        function renderCategories() {
            categoriesCarousel.innerHTML = '';
            carouselIndicators.innerHTML = '';
            
            menuData.categories.forEach((category, index) => {
                // Crear tarjeta de categoría
                const categoryCard = document.createElement('div');
                categoryCard.className = `category-card ${index === currentCategoryIndex ? 'active' : index === currentCategoryIndex - 1 || index === currentCategoryIndex + 1 ? 'inactive' : 'hidden'}`;
                categoryCard.style.backgroundImage = `url(${category.image})`;
                categoryCard.dataset.index = index;
                
                const categoryContent = document.createElement('div');
                categoryContent.className = 'category-content';
                categoryContent.innerHTML = `
                    <h3 class="category-name">${category.name}</h3>
                    <p class="category-desc">${category.description}</p>
                `;
                
                categoryCard.appendChild(categoryContent);
                categoriesCarousel.appendChild(categoryCard);
                
                // Crear indicador
                const indicator = document.createElement('div');
                indicator.className = `indicator ${index === currentCategoryIndex ? 'active' : ''}`;
                indicator.dataset.index = index;
                carouselIndicators.appendChild(indicator);
            });
        }

        // Configurar event listeners
        function setupEventListeners() {
            // Navegación por categorías (tap)
            categoriesCarousel.addEventListener('click', (e) => {
                const categoryCard = e.target.closest('.category-card');
                if (categoryCard) {
                    const index = parseInt(categoryCard.dataset.index);
                    showDishesView(index);
                }
            });

            // Navegación por swipe
            categoriesCarousel.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
            });

            categoriesCarousel.addEventListener('touchend', (e) => {
                endX = e.changedTouches[0].clientX;
                handleSwipe();
            });

            // Botones de retroceso
            backFromDishes.addEventListener('click', () => {
                hideDishesView();
            });

            backFromDetail.addEventListener('click', () => {
                hideDetailView();
            });
        }

        // Manejar gesto de swipe
        function handleSwipe() {
            const swipeThreshold = 50;
            const diffX = startX - endX;
            
            if (Math.abs(diffX) > swipeThreshold) {
                if (diffX > 0 && currentCategoryIndex < menuData.categories.length - 1) {
                    // Swipe izquierda
                    currentCategoryIndex++;
                } else if (diffX < 0 && currentCategoryIndex > 0) {
                    // Swipe derecha
                    currentCategoryIndex--;
                }
                
                renderCategories();
            }
        }

        // Mostrar vista de platos
        function showDishesView(categoryIndex) {
            currentDishes = menuData.categories[categoryIndex].dishes;
            dishesCategoryTitle.textContent = menuData.categories[categoryIndex].name;
            
            // Renderizar lista de platos
            dishesList.innerHTML = '';
            currentDishes.forEach((dish, index) => {
                const dishItem = document.createElement('li');
                dishItem.className = 'dish-item';
                dishItem.innerHTML = `
                    <h3 class="dish-name">${dish.name}</h3>
                    <p class="dish-desc">${dish.description}</p>
                    <div class="dish-price">${dish.price}</div>
                `;
                dishItem.dataset.index = index;
                dishesList.appendChild(dishItem);
            });
            
            // Añadir event listeners a los elementos de la lista
            const dishItems = dishesList.querySelectorAll('.dish-item');
            dishItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    const index = parseInt(item.dataset.index);
                    showDetailView(index);
                });
            });
            
            // Mostrar vista con animación
            categoriesView.classList.add('hidden');
            dishesView.classList.add('active');
        }

        // Ocultar vista de platos
        function hideDishesView() {
            dishesView.classList.remove('active');
            setTimeout(() => {
                categoriesView.classList.remove('hidden');
            }, 300);
        }

        // Mostrar vista de detalle
        function showDetailView(dishIndex) {
            const dish = currentDishes[dishIndex];
            
            // Llenar datos del plato
            detailImage.src = dish.image;
            detailName.textContent = dish.name;
            detailPrice.textContent = dish.price;
            detailDescription.textContent = dish.description;
            
            // Llenar ingredientes
            detailIngredients.innerHTML = '';
            dish.ingredients.forEach(ingredient => {
                const li = document.createElement('li');
                li.textContent = ingredient;
                detailIngredients.appendChild(li);
            });
            
            // Llenar información nutricional
            detailNutrition.textContent = dish.nutrition;
            
            // Mostrar vista con animación
            dishesView.classList.remove('active');
            setTimeout(() => {
                detailView.classList.add('active');
            }, 300);
        }

        // Ocultar vista de detalle
        function hideDetailView() {
            detailView.classList.remove('active');
            setTimeout(() => {
                dishesView.classList.add('active');
            }, 300);
        }

        // Inicializar la aplicación cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
